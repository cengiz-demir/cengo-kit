{"version":3,"sources":["modules/form/form.js"],"names":[],"mappings":";;AAAA,IAAI,MAAJ,CAAW;AACT,QAAM,MADG;AAET,aAAW,IAFF;AAGT,OAAK,EAAE,MAAF,CAHI;AAIT,aAAW,MAJF;AAKT,MAAI,cAAY;;;AAId,QAAI,wBAAwB,0CAA5B;;AAGA,MAAE,wBAAF,CAA2B,QAA3B,CAAoC,MAApC,IAA8C;;AAE5C,cAAQ,cAAS,KAAT,EAAgB,KAAhB,EAAuB,CAAvB,EAA0B,OAA1B,EAAkC;AACxC,YAAI,QAAQ,MAAM,GAAN,EAAZ;AACA,YAAI,WAAW,cAAc,IAAd,CAAmB,KAAnB,CAAf;AACA,YAAI,SAAS,CAAb;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,GAAxB,EAA6B;AAC3B,oBAAU,OAAO,MAAM,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAP,CAAV;AACD;AACD,YAAI,UAAU,SAAS,EAAT,IAAe,MAAM,MAAN,CAAa,EAAb,EAAgB,CAAhB,CAA7B;AACA,YAAI,UAAU,CAAd;AACA,YAAI,UAAU,CAAd;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,KAAG,CAA3B,EAA8B;AAC5B,qBAAW,OAAO,MAAM,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAP,CAAX;AACD;AACD,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,KAAG,CAA3B,EAA8B;AAC5B,qBAAW,OAAO,MAAM,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAP,CAAX;AACD;AACD,YAAI,UAAU,CAAE,UAAU,CAAX,GAAgB,OAAjB,IAA4B,EAA5B,IAAkC,MAAM,MAAN,CAAa,CAAb,EAAe,CAAf,CAAhD;AACA,eAAO,YAAY,OAAZ,IAAuB,OAA9B;AACD,OApB2C;AAqB5C,mBAAa;AArB+B,KAA9C;;AAwBA,MAAE,wBAAF,CAA2B,QAA3B,CAAoC,OAApC,IAA+C;;AAE7C,eAAS,gDAFoC;AAG7C,mBAAa;AAHgC,KAA/C;;;AAOA,MAAE,qBAAF,EAAyB,IAAzB,CAA8B,gBAA9B;;;AAIA,SAAK,GAAL,CAAS,IAAT,CAAc,UAAS,KAAT,EAAe,IAAf,EAAoB;;AAEhC,QAAE,IAAF,EAAQ,IAAR,CAAa,cAAb,EAA6B,IAA7B,CAAkC,cAAlC,EAAiD,qBAAjD;;;AAGA,UAAI,aAAa,EAAE,IAAF,EAAQ,IAAR,CAAa,kBAAb,EAAiC,MAAjC,GAA0C,CAA3D;;AAEA,QAAE,IAAF,EAAQ,gBAAR,CAAyB,QAAzB,EAAmC;AACjC,wBAAgB,IADiB;AAEjC,uBAAe,IAFkB;AAGjC,gCAAwB,QAHS,E;AAIjC,8BAAsB,8BAAS,IAAT,EAAe,MAAf,EAAsB;AAC1C,cAAG,MAAH,EAAW;AACT,gBAAG,UAAH,EAAc;AACZ,mBAAK,MAAL;AACA,qBAAO,KAAP;AACD;;AAED,gBAAI,QAAQ,EAAE,IAAF,EAAQ,SAAR,EAAZ;AACA,cAAE,IAAF,CAAO,EAAC,MAAM,MAAP;AACL,mBAAK,QADA;AAEL,oBAAM,KAFD;AAGL,uBAAS,iBAAU,GAAV,EAAe;AACtB,kBAAE,qCAAF,EAAyC,IAAzC,CAA8C,IAAI,QAAJ,EAA9C;AACA,kBAAE,sBAAF,EAA0B,KAA1B,CAAgC,MAAhC;AACA,2BAAW,KAAX;AACD,eAPI,EAOH,OAAO,eAAU,GAAV,EAAe;AACtB,kBAAE,qCAAF,EAAyC,IAAzC,CAA8C,IAAI,QAAJ,EAA9C;AACA,kBAAE,sBAAF,EAA0B,KAA1B,CAAgC,MAAhC;AACA,2BAAW,KAAX;AACD;AAXI,aAAP;AAaD;AACF;AA1BgC,OAAnC;AA6BD,KApCD;;;AAuCA,MAAE,SAAF,CAAa,yCAAb;AAED;AAxFQ,CAAX","file":"modules/form/form.js","sourcesContent":["Gri.module({\n  name: 'form',\n  ieVersion: null,\n  $el: $('form'),\n  container: 'form',\n  fn: function () {\n\n\n    //Defaults\n    var GRECAPTCHA_SECRET_KEY = \"6LfYVicTAAAAAJm7GnR6Z2EhCMPIPCNbDPmmUiX3\";\n\n\n    $.validationEngineLanguage.allRules[\"tcNo\"] = {\n      // UK zip codes\n      \"func\": function(field, rules, i, options){\n        var value = field.val();\n        var isEleven = /^[0-9]{11}$/.test(value);\n        var totalX = 0;\n        for (var i = 0; i < 10; i++) {\n          totalX += Number(value.substr(i, 1));\n        }\n        var isRuleX = totalX % 10 == value.substr(10,1);\n        var totalY1 = 0;\n        var totalY2 = 0;\n        for (var i = 0; i < 10; i+=2) {\n          totalY1 += Number(value.substr(i, 1));\n        }\n        for (var i = 1; i < 10; i+=2) {\n          totalY2 += Number(value.substr(i, 1));\n        }\n        var isRuleY = ((totalY1 * 7) - totalY2) % 10 == value.substr(9,0);\n        return isEleven && isRuleX && isRuleY;\n      },\n      \"alertText\": \"* Geçersiz TC No\"\n    };\n\n    $.validationEngineLanguage.allRules[\"phone\"] = {\n      // UK zip codes\n      \"regex\": /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/,\n      \"alertText\": \"* Yanlış telefon numarası\"\n    };\n\n    //Mask Phone\n    $('input[name=\"phone\"]').mask('(000) 000 0000');\n\n    \n    //Validations\n    this.$el.each(function(index,item){\n      //Set ReCaptcha\n      $(item).find('.g-recaptcha').attr('data-sitekey',GRECAPTCHA_SECRET_KEY);\n\n      //Check file upload\n      var sendByAjax = $(item).find('input[type=file]').length > 0;\n\n      $(item).validationEngine('attach', {\n        autoHidePrompt: true,\n        autoHideDelay: 3000,\n        validationEventTrigger: 'submit',// Validate on Submit\n        onValidationComplete: function(form, status){\n          if(status) {\n            if(sendByAjax){\n              form.submit();\n              return false;\n            }\n\n            var _data = $(item).serialize();\n            $.ajax({type: 'post',\n              url: '/form/',\n              data: _data,\n              success: function (msg) {\n                $('.bs-example-modal-sm .modal-content').text(msg.toString());\n                $('.bs-example-modal-sm').modal('show');\n                grecaptcha.reset();\n              },error: function (msg) {\n                $('.bs-example-modal-sm .modal-content').text(msg.toString());\n                $('.bs-example-modal-sm').modal('show');\n                grecaptcha.reset();\n              }\n            });\n          }\n        }\n      });\n\n    });\n\n    //Initialize Google ReCaptcha\n    $.getScript( \"https://www.google.com/recaptcha/api.js\");\n\n  }\n});\n"],"sourceRoot":"/source/"}